import java.awt.Graphics;
import java.awt.Graphics2D;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import javax.swing.JPanel;
import javax.swing.Timer;


public class SortersView extends JPanel 
{

	private static final long serialVersionUID = 1L;
	private Tower[] originalTA;
	private Tower[] TA;
	private Timer timer;
	private Sorters sorters = new Sorters();

	public SortersView(Tower[] TA)
	{
		this.TA=TA;
		this.originalTA=TA;
	}

	public void paintComponent(Graphics g)
	{
		super.paintComponent(g);
		Graphics2D g2=(Graphics2D) g;
		
		for (int i = 0; i < TA.length; i++) 
		{
			g2.fill(TA[i]);
			System.out.println("TA["+i+"]="+TA[i].getHeight());
		}
		System.out.println();
		
		/*for (int i = 0; i < TA.length; i++) 
		{
			System.out.println("TA["+i+"]="+TA[i].getHeight());
		}
		*/
		
	}

	public void showInsertion()
	{
		
			timer = new Timer(200, new ActionListener() 
			{
				
				@Override
				public void actionPerformed(ActionEvent arg0) 
				{
					TA=(sorters.Insertion(TA));
					repaint();
					
					if(getSorters().isFinished()&&timer.isRunning())
					{
						timer.stop();
					}
				}
				
			});
			timer.setRepeats(true);
			timer.start();
	}
	
	
	public void showOriginal()
	{
		TA=originalTA;
		repaint();
	}
	
	public void setTA(Tower[] TA)
	{
		this.TA=TA;
	}
	
	public Sorters getSorters()
	{
		return this.sorters;
	}
	
	public Tower[] getTA()
	{
		return this.TA;
	}

}
